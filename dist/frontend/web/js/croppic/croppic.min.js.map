{"version":3,"sources":["../../../../../frontend/web/js/croppic/croppic.min.js"],"names":["o","t","Croppic","e","id","obj","$","outputDiv","options","uploadUrl","uploadData","cropUrl","cropData","outputUrlId","imgEyecandy","imgEyecandyOpacity","zoomFactor","rotateFactor","doubleZoomControls","rotateControls","modal","customUploadButtonId","loaderHtml","scaleToFill","processInline","loadPicture","onReset","enableMousescroll","onBeforeImgUpload","onAfterImgUpload","onImgDrag","onImgZoom","onImgRotate","onBeforeImgCrop","onAfterImgCrop","onBeforeRemoveCroppedImg","onAfterRemoveCroppedImg","onError","i","init","prototype","imgInitW","imgInitH","imgW","imgH","objW","objH","actualRotation","windowW","windowH","height","outputUrlObj","img","defaultImg","croppedImg","form","iframeform","iframeobj","cropControlsUpload","cropControlsCrop","cropControlZoomMuchIn","cropControlZoomMuchOut","cropControlZoomIn","cropControlZoomOut","cropControlCrop","cropControlReset","cropControlRemoveCroppedImage","loader","width","isEmptyObject","find","createImgUploadControls","bindImgUploadControl","loadExistingImage","n","append","imgUploadControl","show","CreateFallbackIframe","off","on","trigger","Function","call","remove","hide","val","change","showLoader","FileReader","reset","onload","Image","src","target","result","createModal","imgUrl","initCropper","hideLoader","readAsDataURL","files","formData","FormData","hasOwnProperty","ajax","url","data","context","body","cache","contentType","processData","type","always","afterUpload","load","response","jQuery","parseJSON","status","alert","message","setTimeout","destroyModal","wrap","createCropControls","createEyecandy","initDrag","initialScaleImg","clone","css","opacity","appendTo","destroyEyecandy","zoom","preventDefault","deltaY","left","top","position","r","a","p","s","c","rotate","crop","navigator","userAgent","match","pageY","pageX","originalEvent","touches","outerHeight","outerWidth","offset","l","removeClass","parseInt","m","transform","imgY1","Math","abs","imgX1","cropH","cropW","rotation","XMLHttpRequest","push","encodeURIComponent","join","replace","addEventListener","onreadystatechange","readyState","afterCrop","responseText","open","setRequestHeader","length","send","destroy","attr","html","isAjaxUploadSupported","createElement","File","upload","setAttribute","style","display","appendChild","outerHTML","contentWindow","document","write","close","contents","SubmitFallbackIframe","attachEvent","detachEvent","removeEventListener","getIframeContentJSON","submit","contentDocument","innerHTML","slice","toLowerCase","firstChild","nodeValue","success","window"],"mappings":";;;;AAAA;;;;;AAKC,CAAC,UAASA,CAAT,EAAWC,CAAX,EAAa;AAACC,YAAQ,iBAASF,CAAT,EAAWC,CAAX,EAAa;AAAC,QAAIE,IAAE,IAAN,CAAWA,EAAEC,EAAF,GAAKJ,CAAL,EAAOG,EAAEE,GAAF,GAAMC,EAAE,MAAIN,CAAN,CAAb,EAAsBG,EAAEI,SAAF,GAAYJ,EAAEE,GAApC,EAAwCF,EAAEK,OAAF,GAAU,EAACC,WAAU,EAAX,EAAcC,YAAW,EAAzB,EAA4BC,SAAQ,EAApC,EAAuCC,UAAS,EAAhD,EAAmDC,aAAY,EAA/D,EAAkEC,aAAY,CAAC,CAA/E,EAAiFC,oBAAmB,EAApG,EAAuGC,YAAW,EAAlH,EAAqHC,cAAa,CAAlI,EAAoIC,oBAAmB,CAAC,CAAxJ,EAA0JC,gBAAe,CAAC,CAA1K,EAA4KC,OAAM,CAAC,CAAnL,EAAqLC,sBAAqB,EAA1M,EAA6MC,YAAW,EAAxN,EAA2NC,aAAY,CAAC,CAAxO,EAA0OC,eAAc,CAAC,CAAzP,EAA2PC,aAAY,EAAvQ,EAA0QC,SAAQ,IAAlR,EAAuRC,mBAAkB,CAAC,CAA1S,EAA4SC,mBAAkB,IAA9T,EAAmUC,kBAAiB,IAApV,EAAyVC,WAAU,IAAnW,EAAwWC,WAAU,IAAlX,EAAuXC,aAAY,IAAnY,EAAwYC,iBAAgB,IAAxZ,EAA6ZC,gBAAe,IAA5a,EAAibC,0BAAyB,IAA1c,EAA+cC,yBAAwB,IAAve,EAA4eC,SAAQ,IAApf,EAAlD,CAA4iB,KAAIC,CAAJ,IAASrC,CAAT;AAAWE,QAAEK,OAAF,CAAU8B,CAAV,IAAarC,EAAEqC,CAAF,CAAb;AAAX,KAA6BnC,EAAEoC,IAAF;AAAS,GAAnnB,EAAonBrC,QAAQsC,SAAR,GAAkB,EAACpC,IAAG,EAAJ,EAAOqC,UAAS,CAAhB,EAAkBC,UAAS,CAA3B,EAA6BC,MAAK,CAAlC,EAAoCC,MAAK,CAAzC,EAA2CC,MAAK,CAAhD,EAAkDC,MAAK,CAAvD,EAAyDC,gBAAe,CAAxE,EAA0EC,SAAQ,CAAlF,EAAoFC,SAAQ3C,EAAEN,CAAF,EAAKkD,MAAL,EAA5F,EAA0G7C,KAAI,EAA9G,EAAiHE,WAAU,EAA3H,EAA8H4C,cAAa,EAA3I,EAA8IC,KAAI,EAAlJ,EAAqJC,YAAW,EAAhK,EAAmKC,YAAW,EAA9K,EAAiLxC,aAAY,EAA7L,EAAgMyC,MAAK,EAArM,EAAwMC,YAAW,EAAnN,EAAsNC,WAAU,EAAhO,EAAmOC,oBAAmB,EAAtP,EAAyPC,kBAAiB,EAA1Q,EAA6QC,uBAAsB,EAAnS,EAAsSC,wBAAuB,EAA7T,EAAgUC,mBAAkB,EAAlV,EAAqVC,oBAAmB,EAAxW,EAA2WC,iBAAgB,EAA3X,EAA8XC,kBAAiB,EAA/Y,EAAkZC,+BAA8B,EAAhb,EAAmb9C,OAAM,EAAzb,EAA4b+C,QAAO,EAAnc,EAAsc5B,MAAK,gBAAU;AAAC,UAAIvC,IAAE,IAAN,CAAWA,EAAE6C,IAAF,GAAO7C,EAAEK,GAAF,CAAM+D,KAAN,EAAP,EAAqBpE,EAAE8C,IAAF,GAAO9C,EAAEK,GAAF,CAAM6C,MAAN,EAA5B,EAA2ClD,EAAE+C,cAAF,GAAiB,CAA5D,EAA8DzC,EAAE+D,aAAF,CAAgBrE,EAAEqD,UAAlB,MAAgCrD,EAAEqD,UAAF,GAAarD,EAAEK,GAAF,CAAMiE,IAAN,CAAW,KAAX,CAA7C,CAA9D,EAA8HtE,EAAEuE,uBAAF,EAA9H,EAA0JjE,EAAE+D,aAAF,CAAgBrE,EAAEQ,OAAF,CAAUiB,WAA1B,IAAuCzB,EAAEwE,oBAAF,EAAvC,GAAgExE,EAAEyE,iBAAF,EAA1N;AAAgP,KAAjtB,EAAktBF,yBAAwB,mCAAU;AAAC,UAAIvE,IAAE,IAAN;AAAA,UAAWC,IAAE,EAAb,CAAgB,OAAKD,EAAEQ,OAAF,CAAUa,oBAAf,KAAsCpB,IAAE,mCAAxC,EAA6E,IAAIE,IAAE,+CAAN,CAAsDG,EAAE+D,aAAF,CAAgBrE,EAAEsD,UAAlB,MAAgCnD,IAAE,EAAlC,GAAsCG,EAAE+D,aAAF,CAAgBrE,EAAEQ,OAAF,CAAUiB,WAA1B,MAAyCxB,IAAE,EAA3C,CAAtC,CAAqF,IAAIyE,IAAE,mDAAiDzE,CAAjD,GAAmDE,CAAnD,GAAqD,SAA3D,CAAqEH,EAAEO,SAAF,CAAYoE,MAAZ,CAAmBD,CAAnB,GAAsB1E,EAAE0D,kBAAF,GAAqB1D,EAAEO,SAAF,CAAY+D,IAAZ,CAAiB,qBAAjB,CAA3C,EAAmF,OAAKtE,EAAEQ,OAAF,CAAUa,oBAAf,GAAoCrB,EAAE4E,gBAAF,GAAmB5E,EAAEO,SAAF,CAAY+D,IAAZ,CAAiB,oBAAjB,CAAvD,IAA+FtE,EAAE4E,gBAAF,GAAmBtE,EAAE,MAAIN,EAAEQ,OAAF,CAAUa,oBAAhB,CAAnB,EAAyDrB,EAAE4E,gBAAF,CAAmBC,IAAnB,EAAxJ,CAAnF,EAAsQvE,EAAE+D,aAAF,CAAgBrE,EAAEsD,UAAlB,MAAgCtD,EAAEkE,6BAAF,GAAgClE,EAAEO,SAAF,CAAY+D,IAAZ,CAAiB,gCAAjB,CAAhE,CAAtQ;AAA0X,KAA55C,EAA65CE,sBAAqB,gCAAU;AAAC,UAAIxE,IAAE,IAAN;AAAA,UAAWG,IAAE,kBAAgBH,EAAEI,EAAlB,GAAqB,kFAArB,GAAwGJ,EAAEI,EAA1G,GAA6G,4BAA1H,CAAuJJ,EAAEO,SAAF,CAAYoE,MAAZ,CAAmBxE,CAAnB,GAAsBH,EAAEuD,IAAF,GAAOvD,EAAEO,SAAF,CAAY+D,IAAZ,CAAiB,MAAItE,EAAEI,EAAN,GAAS,gBAA1B,CAA7B,CAAyE,IAAIsE,IAAE1E,EAAE8E,oBAAF,EAAN,CAA+B9E,EAAE4E,gBAAF,CAAmBG,GAAnB,CAAuB,OAAvB,GAAgC/E,EAAE4E,gBAAF,CAAmBI,EAAnB,CAAsB,OAAtB,EAA8B,YAAU;AAAC,eAAKN,CAAL,GAAO1E,EAAEuD,IAAF,CAAOe,IAAP,CAAY,oBAAZ,EAAkCW,OAAlC,CAA0C,OAA1C,CAAP,GAA0DjF,EAAEwD,UAAF,CAAac,IAAb,CAAkB,oBAAlB,EAAwCW,OAAxC,CAAgD,OAAhD,CAA1D;AAAmH,OAA5J,CAAhC,EAA8L3E,EAAE+D,aAAF,CAAgBrE,EAAEsD,UAAlB,KAA+BtD,EAAEkE,6BAAF,CAAgCc,EAAhC,CAAmC,OAAnC,EAA2C,YAAU;AAAC,gBAAOhF,EAAEQ,OAAF,CAAU2B,wBAAjB,aAAkD+C,QAAlD,yCAAkDA,QAAlD,MAA4DlF,EAAEQ,OAAF,CAAU2B,wBAAV,CAAmCgD,IAAnC,CAAwCnF,CAAxC,CAA5D,EAAuGA,EAAEsD,UAAF,CAAa8B,MAAb,EAAvG,EAA6HpF,EAAEsD,UAAF,GAAa,EAA1I,EAA6IhD,EAAE,IAAF,EAAQ+E,IAAR,EAA7I,EAA4J,QAAOrF,EAAEQ,OAAF,CAAU4B,uBAAjB,aAAiD8C,QAAjD,yCAAiDA,QAAjD,MAA2DlF,EAAEQ,OAAF,CAAU4B,uBAAV,CAAkC+C,IAAlC,CAAuCnF,CAAvC,CAAvN,EAAiQM,EAAE+D,aAAF,CAAgBrE,EAAEqD,UAAlB,KAA+BrD,EAAEK,GAAF,CAAMsE,MAAN,CAAa3E,EAAEqD,UAAf,CAAhS,EAA2T,OAAKrD,EAAEQ,OAAF,CAAUK,WAAf,IAA4BP,EAAE,MAAIN,EAAEQ,OAAF,CAAUK,WAAhB,EAA6ByE,GAA7B,CAAiC,EAAjC,CAAvV;AAA4X,OAAlb,CAA7N,EAAipBtF,EAAEuD,IAAF,CAAOe,IAAP,CAAY,oBAAZ,EAAkCiB,MAAlC,CAAyC,YAAU;AAAC,YAAGvF,EAAEQ,OAAF,CAAUoB,iBAAV,IAA6B5B,EAAEQ,OAAF,CAAUoB,iBAAV,CAA4BuD,IAA5B,CAAiCnF,CAAjC,CAA7B,EAAiEA,EAAEwF,UAAF,EAAjE,EAAgFxF,EAAE4E,gBAAF,CAAmBS,IAAnB,EAAhF,EAA0GrF,EAAEQ,OAAF,CAAUgB,aAAvH;AAAqI,cAAG,eAAa,OAAOiE,UAAvB,EAAkCzF,EAAEQ,OAAF,CAAU6B,OAAV,IAAmBrC,EAAEQ,OAAF,CAAU6B,OAAV,CAAkB8C,IAAlB,CAAuBnF,CAAvB,EAAyB,gDAAzB,CAAnB,EAA8FA,EAAE0F,KAAF,EAA9F,CAAlC,KAA8I;AAAC,gBAAIvF,IAAE,IAAIsF,UAAJ,EAAN,CAAqBtF,EAAEwF,MAAF,GAAS,UAAS1F,CAAT,EAAW;AAAC,kBAAIE,IAAE,IAAIyF,KAAJ,EAAN,CAAgBzF,EAAE0F,GAAF,GAAM5F,EAAE6F,MAAF,CAASC,MAAf,EAAsB5F,EAAEwF,MAAF,GAAS,YAAU;AAAC3F,kBAAEyC,QAAF,GAAWzC,EAAE2C,IAAF,GAAOxC,EAAEiE,KAApB,EAA0BpE,EAAE0C,QAAF,GAAW1C,EAAE4C,IAAF,GAAOzC,EAAE+C,MAA9C,EAAqDlD,EAAEQ,OAAF,CAAUY,KAAV,IAAiBpB,EAAEgG,WAAF,EAAtE,EAAsF1F,EAAE+D,aAAF,CAAgBrE,EAAEsD,UAAlB,KAA+BtD,EAAEsD,UAAF,CAAa8B,MAAb,EAArH,EAA2IpF,EAAEiG,MAAF,GAAS9F,EAAE0F,GAAtJ,EAA0J7F,EAAEK,GAAF,CAAMsE,MAAN,CAAa,eAAaxE,EAAE0F,GAAf,GAAmB,IAAhC,CAA1J,EAAgM7F,EAAEkG,WAAF,EAAhM,EAAgNlG,EAAEmG,UAAF,EAAhN,EAA+NnG,EAAEQ,OAAF,CAAUqB,gBAAV,IAA4B7B,EAAEQ,OAAF,CAAUqB,gBAAV,CAA2BsD,IAA3B,CAAgCnF,CAAhC,CAA3P;AAA8R,eAAxU;AAAyU,aAA9W,EAA+WG,EAAEiG,aAAF,CAAgBpG,EAAEuD,IAAF,CAAOe,IAAP,CAAY,oBAAZ,EAAkC,CAAlC,EAAqC+B,KAArC,CAA2C,CAA3C,CAAhB,CAA/W;AAA8a;AAAvtB,eAA2tB;AAAC,cAAG;AAACC,uBAAS,IAAIC,QAAJ,CAAavG,EAAEuD,IAAF,CAAO,CAAP,CAAb,CAAT;AAAiC,WAArC,CAAqC,OAAMmB,CAAN,EAAQ;AAAC4B,uBAAS,IAAIC,QAAJ,EAAT,EAAsBD,SAAS3B,MAAT,CAAgB,KAAhB,EAAsB3E,EAAEuD,IAAF,CAAOe,IAAP,CAAY,kBAAZ,EAAgC,CAAhC,EAAmC+B,KAAnC,CAAyC,CAAzC,CAAtB,CAAtB;AAAyF,gBAAI,IAAI/D,CAAR,IAAatC,EAAEQ,OAAF,CAAUE,UAAvB;AAAkCV,cAAEQ,OAAF,CAAUE,UAAV,CAAqB8F,cAArB,CAAoClE,CAApC,KAAwCgE,SAAS3B,MAAT,CAAgBrC,CAAhB,EAAkBtC,EAAEQ,OAAF,CAAUE,UAAV,CAAqB4B,CAArB,CAAlB,CAAxC;AAAlC,WAAqHhC,EAAEmG,IAAF,CAAO,EAACC,KAAI1G,EAAEQ,OAAF,CAAUC,SAAf,EAAyBkG,MAAKL,QAA9B,EAAuCM,SAAQ3G,EAAE4G,IAAjD,EAAsDC,OAAM,CAAC,CAA7D,EAA+DC,aAAY,CAAC,CAA5E,EAA8EC,aAAY,CAAC,CAA3F,EAA6FC,MAAK,MAAlG,EAAP,EAAkHC,MAAlH,CAAyH,UAASjH,CAAT,EAAW;AAACD,cAAEmH,WAAF,CAAclH,CAAd;AAAiB,WAAtJ;AAAwJ;AAAC,OAArqC,CAAjpB;AAAwzD,KAAp/G,EAAq/GwE,mBAAkB,6BAAU;AAAC,UAAIzE,IAAE,IAAN,CAAW,IAAGM,EAAE+D,aAAF,CAAgBrE,EAAEsD,UAAlB,CAAH,EAAiC;AAACtD,UAAEQ,OAAF,CAAUoB,iBAAV,IAA6B5B,EAAEQ,OAAF,CAAUoB,iBAAV,CAA4BuD,IAA5B,CAAiCnF,CAAjC,CAA7B,EAAiEA,EAAEwF,UAAF,EAAjE,EAAgFxF,EAAEQ,OAAF,CAAUY,KAAV,IAAiBpB,EAAEgG,WAAF,EAAjG,EAAiH1F,EAAE+D,aAAF,CAAgBrE,EAAEsD,UAAlB,KAA+BtD,EAAEsD,UAAF,CAAa8B,MAAb,EAAhJ,EAAsKpF,EAAEiG,MAAF,GAASjG,EAAEQ,OAAF,CAAUiB,WAAzL,CAAqM,IAAIxB,IAAEK,EAAE,eAAaN,EAAEQ,OAAF,CAAUiB,WAAvB,GAAmC,IAArC,CAAN,CAAiDzB,EAAEK,GAAF,CAAMsE,MAAN,CAAa1E,CAAb,GAAgBA,EAAEmH,IAAF,CAAO,YAAU;AAACpH,YAAEyC,QAAF,GAAWzC,EAAE2C,IAAF,GAAO,KAAKyB,KAAvB,EAA6BpE,EAAE0C,QAAF,GAAW1C,EAAE4C,IAAF,GAAO,KAAKM,MAApD,EAA2DlD,EAAEkG,WAAF,EAA3D,EAA2ElG,EAAEmG,UAAF,EAA3E,EAA0FnG,EAAEQ,OAAF,CAAUqB,gBAAV,IAA4B7B,EAAEQ,OAAF,CAAUqB,gBAAV,CAA2BsD,IAA3B,CAAgCnF,CAAhC,CAAtH;AAAyJ,SAA3K,CAAhB;AAA6L,OAArd,MAA0dA,EAAEkE,6BAAF,CAAgCc,EAAhC,CAAmC,OAAnC,EAA2C,YAAU;AAAChF,UAAEsD,UAAF,CAAa8B,MAAb,IAAsB9E,EAAE,IAAF,EAAQ+E,IAAR,EAAtB,EAAqC/E,EAAE+D,aAAF,CAAgBrE,EAAEqD,UAAlB,KAA+BrD,EAAEK,GAAF,CAAMsE,MAAN,CAAa3E,EAAEqD,UAAf,CAApE,EAA+F,OAAKrD,EAAEQ,OAAF,CAAUK,WAAf,IAA4BP,EAAE,MAAIN,EAAEQ,OAAF,CAAUK,WAAhB,EAA6ByE,GAA7B,CAAiC,EAAjC,CAA3H,EAAgKtF,EAAEsD,UAAF,GAAa,EAA7K,EAAgLtD,EAAE0F,KAAF,EAAhL;AAA0L,OAAhP;AAAkP,KAAzuI,EAA0uIyB,aAAY,qBAASnH,CAAT,EAAW;AAAC,UAAIC,IAAE,IAAN,CAAW,IAAGoH,WAAS,oBAAiBrH,CAAjB,yCAAiBA,CAAjB,KAAmBA,CAAnB,GAAqBsH,OAAOC,SAAP,CAAiBvH,CAAjB,CAA9B,EAAkD,aAAWqH,SAASG,MAAzE,EAAgF;AAACvH,UAAEwC,QAAF,GAAWxC,EAAE0C,IAAF,GAAO0E,SAASjD,KAA3B,EAAiCnE,EAAEyC,QAAF,GAAWzC,EAAE2C,IAAF,GAAOyE,SAASnE,MAA5D,EAAmEjD,EAAEO,OAAF,CAAUY,KAAV,IAAiBnB,EAAE+F,WAAF,EAApF,EAAoG1F,EAAE+D,aAAF,CAAgBpE,EAAEqD,UAAlB,KAA+BrD,EAAEqD,UAAF,CAAa8B,MAAb,EAAnI,EAAyJnF,EAAEgG,MAAF,GAASoB,SAASX,GAA3K,CAA+K,IAAIvG,IAAEG,EAAE,eAAa+G,SAASX,GAAtB,GAA0B,IAA5B,CAAN,CAAwCzG,EAAEI,GAAF,CAAMsE,MAAN,CAAaxE,CAAb,GAAgBA,EAAEiH,IAAF,CAAO,YAAU;AAACnH,YAAEiG,WAAF,IAAgBjG,EAAEkG,UAAF,EAAhB,EAA+BlG,EAAEO,OAAF,CAAUqB,gBAAV,IAA4B5B,EAAEO,OAAF,CAAUqB,gBAAV,CAA2BsD,IAA3B,CAAgClF,CAAhC,CAA3D;AAA8F,SAAhH,CAAhB,EAAkIA,EAAEO,OAAF,CAAUqB,gBAAV,IAA4B5B,EAAEO,OAAF,CAAUqB,gBAAV,CAA2BsD,IAA3B,CAAgClF,CAAhC,CAA9J;AAAiM,kBAASoH,SAASG,MAAlB,KAA2BC,MAAMJ,SAASK,OAAf,GAAwBzH,EAAEO,OAAF,CAAU6B,OAAV,IAAmBpC,EAAEO,OAAF,CAAU6B,OAAV,CAAkB8C,IAAlB,CAAuBlF,CAAvB,EAAyBoH,SAASK,OAAlC,CAA3C,EAAsFzH,EAAEkG,UAAF,EAAtF,EAAqGwB,WAAW,YAAU;AAAC1H,UAAEyF,KAAF;AAAU,OAAhC,EAAiC,GAAjC,CAAhI;AAAuK,KAA75J,EAA85JM,aAAY,uBAAU;AAAC,UAAIhG,IAAE,IAAN;AAAA,UAAWC,IAAED,EAAEiD,OAAF,GAAU,CAAV,GAAYjD,EAAE8C,IAAF,GAAO,CAAhC;AAAA,UAAkC3C,IAAE,mEAAiEH,EAAE6C,IAAnE,GAAwE,aAAxE,GAAsF7C,EAAE8C,IAAxF,GAA6F,gCAA7F,GAA8H7C,CAA9H,GAAgI,wCAApK,CAA6MK,EAAE,MAAF,EAAUqE,MAAV,CAAiBxE,CAAjB,GAAoBH,EAAEoB,KAAF,GAAQd,EAAE,eAAF,CAA5B,EAA+CN,EAAEK,GAAF,GAAMC,EAAE,kBAAF,CAArD;AAA2E,KAA7sK,EAA8sKsH,cAAa,wBAAU;AAAC,UAAI5H,IAAE,IAAN,CAAWA,EAAEK,GAAF,GAAML,EAAEO,SAAR,EAAkBP,EAAEoB,KAAF,CAAQgE,MAAR,EAAlB,EAAmCpF,EAAEoB,KAAF,GAAQ,EAA3C;AAA8C,KAA/xK,EAAgyK8E,aAAY,uBAAU;AAAC,UAAIlG,IAAE,IAAN,CAAWA,EAAEoD,GAAF,GAAMpD,EAAEK,GAAF,CAAMiE,IAAN,CAAW,KAAX,CAAN,EAAwBtE,EAAEoD,GAAF,CAAMyE,IAAN,CAAW,6FAA2F7H,EAAE6C,IAA7F,GAAkG,aAAlG,GAAgH7C,EAAE8C,IAAlH,GAAuH,aAAlI,CAAxB,EAAyK9C,EAAE8H,kBAAF,EAAzK,EAAgM9H,EAAEQ,OAAF,CAAUM,WAAV,IAAuBd,EAAE+H,cAAF,EAAvN,EAA0O/H,EAAEgI,QAAF,EAA1O,EAAuPhI,EAAEiI,eAAF,EAAvP;AAA2Q,KAA7kL,EAA8kLF,gBAAe,0BAAU;AAAC,UAAI/H,IAAE,IAAN,CAAWA,EAAEc,WAAF,GAAcd,EAAEoD,GAAF,CAAM8E,KAAN,EAAd,EAA4BlI,EAAEc,WAAF,CAAcqH,GAAd,CAAkB,EAAC,WAAU,GAAX,EAAeC,SAAQpI,EAAEQ,OAAF,CAAUO,kBAAjC,EAAlB,EAAwEsH,QAAxE,CAAiFrI,EAAEK,GAAnF,CAA5B;AAAoH,KAAvuL,EAAwuLiI,iBAAgB,2BAAU;AAAC,UAAItI,IAAE,IAAN,CAAWA,EAAEc,WAAF,CAAcsE,MAAd;AAAuB,KAAryL,EAAsyL6C,iBAAgB,2BAAU;AAAC,UAAIjI,IAAE,IAAN,CAAWA,EAAEuI,IAAF,CAAO,CAACvI,EAAEyC,QAAV,GAAoBzC,EAAEuI,IAAF,CAAO,EAAP,CAApB,EAA+BvI,EAAEQ,OAAF,CAAUmB,iBAAV,IAA6B3B,EAAEoD,GAAF,CAAM4B,EAAN,CAAS,YAAT,EAAsB,UAAS/E,CAAT,EAAW;AAACA,UAAEuI,cAAF,IAAmBxI,EAAEuI,IAAF,CAAOvI,EAAEQ,OAAF,CAAUQ,UAAV,GAAqBf,EAAEwI,MAA9B,CAAnB;AAAyD,OAA3F,CAA5D,EAAyJzI,EAAEoD,GAAF,CAAM+E,GAAN,CAAU,EAACO,MAAK,EAAE1I,EAAE2C,IAAF,GAAO3C,EAAE6C,IAAX,IAAiB,CAAvB,EAAyB8F,KAAI,EAAE3I,EAAE4C,IAAF,GAAO5C,EAAE8C,IAAX,IAAiB,CAA9C,EAAgD8F,UAAS,UAAzD,EAAV,CAAzJ,EAAyO5I,EAAEQ,OAAF,CAAUM,WAAV,IAAuBd,EAAEc,WAAF,CAAcqH,GAAd,CAAkB,EAACO,MAAK,EAAE1I,EAAE2C,IAAF,GAAO3C,EAAE6C,IAAX,IAAiB,CAAvB,EAAyB8F,KAAI,EAAE3I,EAAE4C,IAAF,GAAO5C,EAAE8C,IAAX,IAAiB,CAA9C,EAAgD8F,UAAS,UAAzD,EAAlB,CAAhQ;AAAwV,KAApqM,EAAqqMd,oBAAmB,8BAAU;AAAC,UAAI9H,CAAJ;AAAA,UAAMC,IAAE,IAAR;AAAA,UAAaE,IAAE,EAAf;AAAA,UAAkBuE,IAAE,mCAApB;AAAA,UAAwDpC,IAAE,oCAA1D;AAAA,UAA+FuG,IAAE,EAAjG;AAAA,UAAoGC,IAAE,EAAtG;AAAA,UAAyGC,IAAE,EAA3G;AAAA,UAA8GC,IAAE,iCAAhH;AAAA,UAAkJC,IAAE,kCAApJ,CAAuLhJ,EAAEO,OAAF,CAAUU,kBAAV,KAA+Bf,IAAE,uCAAF,EAA0C0I,IAAE,wCAA3E,GAAqH5I,EAAEO,OAAF,CAAUW,cAAV,KAA2B2H,IAAE,uCAAF,EAA0CC,IAAE,wCAAvE,CAArH,EAAsO/I,IAAE,gDAA8CG,CAA9C,GAAgDuE,CAAhD,GAAkDpC,CAAlD,GAAoDuG,CAApD,GAAsDC,CAAtD,GAAwDC,CAAxD,GAA0DC,CAA1D,GAA4DC,CAA5D,GAA8D,QAAtS,EAA+ShJ,EAAEI,GAAF,CAAMsE,MAAN,CAAa3E,CAAb,CAA/S,EAA+TC,EAAE0D,gBAAF,GAAmB1D,EAAEI,GAAF,CAAMiE,IAAN,CAAW,mBAAX,CAAlV,EAAkXrE,EAAEO,OAAF,CAAUU,kBAAV,KAA+BjB,EAAE2D,qBAAF,GAAwB3D,EAAE0D,gBAAF,CAAmBW,IAAnB,CAAwB,wBAAxB,CAAxB,EAA0ErE,EAAE2D,qBAAF,CAAwBoB,EAAxB,CAA2B,OAA3B,EAAmC,YAAU;AAAC/E,UAAEsI,IAAF,CAAO,KAAGtI,EAAEO,OAAF,CAAUQ,UAApB;AAAgC,OAA9E,CAA1E,EAA0Jf,EAAE4D,sBAAF,GAAyB5D,EAAE0D,gBAAF,CAAmBW,IAAnB,CAAwB,yBAAxB,CAAnL,EAAsOrE,EAAE4D,sBAAF,CAAyBmB,EAAzB,CAA4B,OAA5B,EAAoC,YAAU;AAAC/E,UAAEsI,IAAF,CAAO,KAAG,CAACtI,EAAEO,OAAF,CAAUQ,UAArB;AAAiC,OAAhF,CAArQ,CAAlX,EAA0sBf,EAAE6D,iBAAF,GAAoB7D,EAAE0D,gBAAF,CAAmBW,IAAnB,CAAwB,oBAAxB,CAA9tB,EAA4wBrE,EAAE6D,iBAAF,CAAoBkB,EAApB,CAAuB,OAAvB,EAA+B,YAAU;AAAC/E,UAAEsI,IAAF,CAAOtI,EAAEO,OAAF,CAAUQ,UAAjB;AAA6B,OAAvE,CAA5wB,EAAq1Bf,EAAE8D,kBAAF,GAAqB9D,EAAE0D,gBAAF,CAAmBW,IAAnB,CAAwB,qBAAxB,CAA12B,EAAy5BrE,EAAE8D,kBAAF,CAAqBiB,EAArB,CAAwB,OAAxB,EAAgC,YAAU;AAAC/E,UAAEsI,IAAF,CAAO,CAACtI,EAAEO,OAAF,CAAUQ,UAAlB;AAA8B,OAAzE,CAAz5B,EAAo+Bf,EAAE6D,iBAAF,GAAoB7D,EAAE0D,gBAAF,CAAmBW,IAAnB,CAAwB,wBAAxB,CAAx/B,EAA0iCrE,EAAE6D,iBAAF,CAAoBkB,EAApB,CAAuB,OAAvB,EAA+B,YAAU;AAAC/E,UAAEiJ,MAAF,CAAS,CAACjJ,EAAEO,OAAF,CAAUS,YAApB;AAAkC,OAA5E,CAA1iC,EAAwnChB,EAAE8D,kBAAF,GAAqB9D,EAAE0D,gBAAF,CAAmBW,IAAnB,CAAwB,yBAAxB,CAA7oC,EAAgsCrE,EAAE8D,kBAAF,CAAqBiB,EAArB,CAAwB,OAAxB,EAAgC,YAAU;AAAC/E,UAAEiJ,MAAF,CAASjJ,EAAEO,OAAF,CAAUS,YAAnB;AAAiC,OAA5E,CAAhsC,EAA8wChB,EAAE+D,eAAF,GAAkB/D,EAAE0D,gBAAF,CAAmBW,IAAnB,CAAwB,kBAAxB,CAAhyC,EAA40CrE,EAAE+D,eAAF,CAAkBgB,EAAlB,CAAqB,OAArB,EAA6B,YAAU;AAAC/E,UAAEkJ,IAAF;AAAS,OAAjD,CAA50C,EAA+3ClJ,EAAEgE,gBAAF,GAAmBhE,EAAE0D,gBAAF,CAAmBW,IAAnB,CAAwB,mBAAxB,CAAl5C,EAA+7CrE,EAAEgE,gBAAF,CAAmBe,EAAnB,CAAsB,OAAtB,EAA8B,YAAU;AAAC/E,UAAEyF,KAAF;AAAU,OAAnD,CAA/7C;AAAo/C,KAA92P,EAA+2PsC,UAAS,oBAAU;AAAC,UAAI/H,IAAE,IAAN,CAAWA,EAAEmD,GAAF,CAAM4B,EAAN,CAAS,sBAAT,EAAgC,UAAS7E,CAAT,EAAW;AAACA,UAAEqI,cAAF,GAAmB,IAAI9D,CAAJ;AAAA,YAAMpC,CAAN;AAAA,YAAQuG,IAAE7I,EAAEoJ,SAAF,CAAYC,SAAtB,CAAgCR,EAAES,KAAF,CAAQ,OAAR,KAAkBT,EAAES,KAAF,CAAQ,SAAR,CAAlB,IAAsCT,EAAES,KAAF,CAAQ,UAAR,CAAtC,IAA2D,KAAK,CAAL,KAASnJ,EAAEoJ,KAAF,IAASpJ,EAAEqJ,KAApB,CAA3D,IAAuF9E,IAAEvE,EAAEsJ,aAAF,CAAgBC,OAAhB,CAAwB,CAAxB,EAA2BF,KAA7B,EAAmClH,IAAEnC,EAAEsJ,aAAF,CAAgBC,OAAhB,CAAwB,CAAxB,EAA2BH,KAAvJ,KAA+J7E,IAAEvE,EAAEqJ,KAAJ,EAAUlH,IAAEnC,EAAEoJ,KAA7K,EAAoL,IAAIT,IAAE7I,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,SAAV,CAAN;AAAA,YAA2BY,IAAE9I,EAAEmD,GAAF,CAAMuG,WAAN,EAA7B;AAAA,YAAiDX,IAAE/I,EAAEmD,GAAF,CAAMwG,UAAN,EAAnD;AAAA,YAAsEX,IAAEhJ,EAAEmD,GAAF,CAAMyG,MAAN,GAAelB,GAAf,GAAmBI,CAAnB,GAAqBzG,CAA7F;AAAA,YAA+FwH,IAAE7J,EAAEmD,GAAF,CAAMyG,MAAN,GAAenB,IAAf,GAAoBM,CAApB,GAAsBtE,CAAvH,CAAyHzE,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,SAAV,EAAoB,GAApB,EAAyBnD,EAAzB,CAA4B,qBAA5B,EAAkD,UAAShF,CAAT,EAAW;AAAC,cAAIG,CAAJ,EAAMuE,CAAN,CAAQ,IAAGmE,EAAES,KAAF,CAAQ,OAAR,KAAkBT,EAAES,KAAF,CAAQ,SAAR,CAAlB,IAAsCT,EAAES,KAAF,CAAQ,UAAR,CAAtC,IAA2D,KAAK,CAAL,KAAStJ,EAAEuJ,KAAF,IAASvJ,EAAEwJ,KAApB,CAA3D,IAAuFrJ,IAAEH,EAAEyJ,aAAF,CAAgBC,OAAhB,CAAwB,CAAxB,EAA2BH,KAA3B,GAAiCN,CAAjC,GAAmCF,CAArC,EAAuCrE,IAAE1E,EAAEyJ,aAAF,CAAgBC,OAAhB,CAAwB,CAAxB,EAA2BF,KAA3B,GAAiCM,CAAjC,GAAmCd,CAAnK,KAAuK7I,IAAEH,EAAEuJ,KAAF,GAAQN,CAAR,GAAUF,CAAZ,EAAcrE,IAAE1E,EAAEwJ,KAAF,GAAQM,CAAR,GAAUd,CAAjM,GAAoM/I,EAAEmD,GAAF,CAAMyG,MAAN,CAAa,EAAClB,KAAIxI,CAAL,EAAOuI,MAAKhE,CAAZ,EAAb,EAA6BM,EAA7B,CAAgC,SAAhC,EAA0C,YAAU;AAAC1E,cAAE,IAAF,EAAQyJ,WAAR,CAAoB,WAApB,EAAiC5B,GAAjC,CAAqC,SAArC,EAA+CW,CAA/C;AAAkD,WAAvG,CAApM,EAA6S7I,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAc+I,MAAd,CAAqB,EAAClB,KAAIxI,CAAL,EAAOuI,MAAKhE,CAAZ,EAArB,CAApU,EAAyWzE,EAAE6C,IAAF,GAAO7C,EAAE2C,IAArX,EAA0X;AAACoH,qBAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,KAAV,CAAT,IAA2B,CAA3B,KAA+BlI,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,KAAV,EAAgB,CAAhB,GAAmBlI,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,KAAlB,EAAwB,CAAxB,CAAzE,EAAqG,IAAI7F,IAAE,EAAErC,EAAE2C,IAAF,GAAO3C,EAAE6C,IAAX,CAAN,CAAuBkH,SAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,KAAV,CAAT,IAA2B7F,CAA3B,KAA+BrC,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,KAAV,EAAgB7F,CAAhB,GAAmBrC,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,KAAlB,EAAwB7F,CAAxB,CAAzE;AAAqG,WAA5lB,MAAgmB;AAAC0H,qBAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,KAAV,CAAT,IAA2B,CAA3B,KAA+BlI,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,KAAV,EAAgB,CAAhB,GAAmBlI,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,KAAlB,EAAwB,CAAxB,CAAzE,EAAqG,IAAI7F,IAAErC,EAAE6C,IAAF,GAAO7C,EAAE2C,IAAf,CAAoBoH,SAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,KAAV,CAAT,IAA2B7F,CAA3B,KAA+BrC,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,KAAV,EAAgB7F,CAAhB,GAAmBrC,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,KAAlB,EAAwB7F,CAAxB,CAAzE;AAAqG,eAAGrC,EAAE4C,IAAF,GAAO5C,EAAE0C,IAAZ,EAAiB;AAACqH,qBAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,MAAV,CAAT,IAA4B,CAA5B,KAAgClI,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,MAAV,EAAiB,CAAjB,GAAoBlI,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,MAAlB,EAAyB,CAAzB,CAA3E,EAAwG,IAAI8B,IAAE,EAAEhK,EAAE0C,IAAF,GAAO1C,EAAE4C,IAAX,CAAN,CAAuBmH,SAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,MAAV,CAAT,IAA4B8B,CAA5B,KAAgChK,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,MAAV,EAAiB8B,CAAjB,GAAoBhK,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,MAAlB,EAAyB8B,CAAzB,CAA3E;AAAwG,WAAzP,MAA6P;AAACD,qBAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,MAAV,CAAT,IAA4B,CAA5B,KAAgClI,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,MAAV,EAAiB,CAAjB,GAAoBlI,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,MAAlB,EAAyB,CAAzB,CAA3E,EAAwG,IAAI8B,IAAEhK,EAAE4C,IAAF,GAAO5C,EAAE0C,IAAf,CAAoBqH,SAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,MAAV,CAAT,IAA4B8B,CAA5B,KAAgChK,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,MAAV,EAAiB8B,CAAjB,GAAoBhK,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,MAAlB,EAAyB8B,CAAzB,CAA3E;AAAwG,aAAEzJ,OAAF,CAAUsB,SAAV,IAAqB7B,EAAEO,OAAF,CAAUsB,SAAV,CAAoBqD,IAApB,CAAyBlF,CAAzB,CAArB;AAAiD,SAAx5C;AAA05C,OAAtyD,EAAwyD+E,EAAxyD,CAA2yD,SAA3yD,EAAqzD,YAAU;AAAC/E,UAAEmD,GAAF,CAAM2B,GAAN,CAAU,WAAV;AAAuB,OAAv1D,EAAy1DC,EAAz1D,CAA41D,UAA51D,EAAu2D,YAAU;AAAC/E,UAAEmD,GAAF,CAAM2B,GAAN,CAAU,WAAV;AAAuB,OAAz4D;AAA24D,KAAzxT,EAA0xTmE,QAAO,gBAASlJ,CAAT,EAAW;AAAC,UAAIC,IAAE,IAAN,CAAWA,EAAE8C,cAAF,IAAkB/C,CAAlB,EAAoBC,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,EAAC,qBAAoB,YAAUlI,EAAE8C,cAAZ,GAA2B,MAAhD,EAAuD,kBAAiB,YAAU9C,EAAE8C,cAAZ,GAA2B,MAAnG,EAA0GmH,WAAU,YAAUjK,EAAE8C,cAAZ,GAA2B,MAA/I,EAAV,CAApB,EAAsL9C,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,EAAC,qBAAoB,YAAUlI,EAAE8C,cAAZ,GAA2B,MAAhD,EAAuD,kBAAiB,YAAU9C,EAAE8C,cAAZ,GAA2B,MAAnG,EAA0GmH,WAAU,YAAUjK,EAAE8C,cAAZ,GAA2B,MAA/I,EAAlB,CAA7M,EAAuX,cAAY,OAAO9C,EAAEO,OAAF,CAAUwB,WAA7B,IAA0C/B,EAAEO,OAAF,CAAUwB,WAAV,CAAsBmD,IAAtB,CAA2BlF,CAA3B,CAAja;AAA+b,KAAvvU,EAAwvUsI,MAAK,cAASvI,CAAT,EAAW;AAAC,UAAIC,IAAE,IAAN;AAAA,UAAWE,IAAEF,EAAE0C,IAAF,GAAO1C,EAAE2C,IAAtB;AAAA,UAA2B8B,IAAEzE,EAAE0C,IAAF,GAAO3C,CAApC;AAAA,UAAsCsC,IAAEoC,IAAEvE,CAA1C;AAAA,UAA4C0I,IAAE,CAAC,CAA/C,CAAiD,CAACnE,IAAEzE,EAAE4C,IAAJ,IAAUP,IAAErC,EAAE6C,IAAf,MAAuB4B,IAAEzE,EAAE4C,IAAJ,GAASP,IAAErC,EAAE6C,IAAb,IAAmB4B,IAAEzE,EAAE4C,IAAJ,EAASP,IAAEoC,IAAEvE,CAAhC,KAAoCmC,IAAErC,EAAE6C,IAAJ,EAAS4B,IAAEvE,IAAEmC,CAAjD,GAAoDuG,IAAE,CAAC,CAA9E,GAAiF,CAAC5I,EAAEO,OAAF,CAAUe,WAAX,KAAyBmD,IAAEzE,EAAEwC,QAAJ,IAAcH,IAAErC,EAAEyC,QAA3C,MAAuDgC,IAAEzE,EAAEwC,QAAJ,GAAaH,IAAErC,EAAEyC,QAAjB,IAA2BgC,IAAEzE,EAAEwC,QAAJ,EAAaH,IAAEoC,IAAEvE,CAA5C,KAAgDmC,IAAErC,EAAEyC,QAAJ,EAAagC,IAAEvE,IAAEmC,CAAjE,GAAoEuG,IAAE,CAAC,CAA9H,CAAjF,EAAkN5I,EAAE0C,IAAF,GAAO+B,CAAzN,EAA2NzE,EAAEmD,GAAF,CAAMgB,KAAN,CAAYM,CAAZ,CAA3N,EAA0OzE,EAAE2C,IAAF,GAAON,CAAjP,EAAmPrC,EAAEmD,GAAF,CAAMF,MAAN,CAAaZ,CAAb,CAAnP,CAAmQ,IAAIwG,IAAEkB,SAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,KAAV,CAAT,IAA2BnI,IAAE,CAAnC;AAAA,UAAqC+I,IAAEiB,SAAS/J,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,MAAV,CAAT,IAA4BnI,IAAE,CAArE,CAAuE8I,IAAE,CAAF,KAAMA,IAAE,CAAR,GAAWC,IAAE,CAAF,KAAMA,IAAE,CAAR,CAAX,CAAsB,IAAIC,IAAE,EAAE1G,IAAErC,EAAE6C,IAAN,CAAN,CAAkBkG,IAAEF,CAAF,KAAMA,IAAEE,CAAR,EAAW,IAAIC,IAAE,EAAEvE,IAAEzE,EAAE4C,IAAN,CAAN,CAAkBoG,IAAEF,CAAF,KAAMA,IAAEE,CAAR,GAAWJ,KAAG5I,EAAEmD,GAAF,CAAM+E,GAAN,CAAU,EAACQ,KAAIG,CAAL,EAAOJ,MAAKK,CAAZ,EAAV,CAAd,EAAwC9I,EAAEO,OAAF,CAAUM,WAAV,KAAwBb,EAAEa,WAAF,CAAcsD,KAAd,CAAoBM,CAApB,GAAuBzE,EAAEa,WAAF,CAAcoC,MAAd,CAAqBZ,CAArB,CAAvB,EAA+CuG,KAAG5I,EAAEa,WAAF,CAAcqH,GAAd,CAAkB,EAACQ,KAAIG,CAAL,EAAOJ,MAAKK,CAAZ,EAAlB,CAA1E,CAAxC,EAAqJ9I,EAAEO,OAAF,CAAUuB,SAAV,IAAqB9B,EAAEO,OAAF,CAAUuB,SAAV,CAAoBoD,IAApB,CAAyBlF,CAAzB,CAA1K;AAAsM,KAA/4V,EAAg5VkJ,MAAK,gBAAU;AAAC,UAAInJ,IAAE,IAAN,CAAWA,EAAEQ,OAAF,CAAUyB,eAAV,IAA2BjC,EAAEQ,OAAF,CAAUyB,eAAV,CAA0BkD,IAA1B,CAA+BnF,CAA/B,CAA3B,EAA6DA,EAAE2D,gBAAF,CAAmB0B,IAAnB,EAA7D,EAAuFrF,EAAEwF,UAAF,EAAvF,CAAsG,IAAIrF,CAAJ;AAAA,UAAMuE,IAAE,EAACuB,QAAOjG,EAAEiG,MAAV,EAAiBxD,UAASzC,EAAEyC,QAA5B,EAAqCC,UAAS1C,EAAE0C,QAAhD,EAAyDC,MAAK3C,EAAE2C,IAAhE,EAAqEC,MAAK5C,EAAE4C,IAA5E,EAAiFuH,OAAMC,KAAKC,GAAL,CAASL,SAAShK,EAAEoD,GAAF,CAAM+E,GAAN,CAAU,KAAV,CAAT,CAAT,CAAvF,EAA4HmC,OAAMF,KAAKC,GAAL,CAASL,SAAShK,EAAEoD,GAAF,CAAM+E,GAAN,CAAU,MAAV,CAAT,CAAT,CAAlI,EAAwKoC,OAAMvK,EAAE8C,IAAhL,EAAqL0H,OAAMxK,EAAE6C,IAA7L,EAAkM4H,UAASzK,EAAE+C,cAA7M,EAAR,CAAqO,IAAG,eAAa,OAAOwD,QAAvB,EAAgC;AAAC,YAAIjE,IAAE,IAAIoI,cAAJ,EAAN;AAAA,YAAyB7B,IAAE,EAA3B;AAAA,YAA8BC,IAAE,EAAhC,CAAmC,KAAI,IAAIC,CAAR,IAAarE,CAAb;AAAeoE,YAAE6B,IAAF,CAAOC,mBAAmB7B,CAAnB,IAAsB,GAAtB,GAA0B6B,mBAAmBlG,EAAEqE,CAAF,CAAnB,CAAjC;AAAf,SAA0E,KAAI,IAAIA,CAAR,IAAa/I,EAAEQ,OAAF,CAAUI,QAAvB;AAAgCkI,YAAE6B,IAAF,CAAOC,mBAAmB7B,CAAnB,IAAsB,GAAtB,GAA0B6B,mBAAmB5K,EAAEQ,OAAF,CAAUI,QAAV,CAAmBmI,CAAnB,CAAnB,CAAjC;AAAhC,SAA4GF,IAAEC,EAAE+B,IAAF,CAAO,GAAP,EAAYC,OAAZ,CAAoB,MAApB,EAA2B,GAA3B,CAAF,EAAkCxI,EAAEyI,gBAAF,CAAmB,OAAnB,EAA2B,YAAU;AAAC/K,YAAEQ,OAAF,CAAU6B,OAAV,IAAmBrC,EAAEQ,OAAF,CAAU6B,OAAV,CAAkB8C,IAAlB,CAAuBnF,CAAvB,EAAyB,oBAAzB,CAAnB;AAAkE,SAAxG,CAAlC,EAA4IsC,EAAE0I,kBAAF,GAAqB,YAAU;AAAC,eAAG1I,EAAE2I,UAAL,IAAiB,OAAK3I,EAAEkF,MAAxB,IAAgCxH,EAAEkL,SAAF,CAAY5I,EAAE6I,YAAd,CAAhC;AAA4D,SAAxO,EAAyO7I,EAAE8I,IAAF,CAAO,MAAP,EAAcpL,EAAEQ,OAAF,CAAUG,OAAxB,CAAzO,EAA0Q2B,EAAE+I,gBAAF,CAAmB,cAAnB,EAAkC,mCAAlC,CAA1Q,EAAiV/I,EAAE+I,gBAAF,CAAmB,gBAAnB,EAAoCxC,EAAEyC,MAAtC,CAAjV,EAA+XhJ,EAAEiJ,IAAF,CAAO1C,CAAP,CAA/X;AAAyY,OAAnoB,MAAuoB;AAAC1I,YAAE,IAAIoG,QAAJ,EAAF,CAAe,KAAI,IAAIwC,CAAR,IAAarE,CAAb;AAAeA,YAAE8B,cAAF,CAAiBuC,CAAjB,KAAqB5I,EAAEwE,MAAF,CAASoE,CAAT,EAAWrE,EAAEqE,CAAF,CAAX,CAArB;AAAf,SAAqD,KAAI,IAAIA,CAAR,IAAa/I,EAAEQ,OAAF,CAAUI,QAAvB;AAAgCZ,YAAEQ,OAAF,CAAUI,QAAV,CAAmB4F,cAAnB,CAAkCuC,CAAlC,KAAsC5I,EAAEwE,MAAF,CAASoE,CAAT,EAAW/I,EAAEQ,OAAF,CAAUI,QAAV,CAAmBmI,CAAnB,CAAX,CAAtC;AAAhC,SAAwGzI,EAAEmG,IAAF,CAAO,EAACC,KAAI1G,EAAEQ,OAAF,CAAUG,OAAf,EAAuBgG,MAAKxG,CAA5B,EAA8ByG,SAAQ3G,EAAE4G,IAAxC,EAA6CC,OAAM,CAAC,CAApD,EAAsDC,aAAY,CAAC,CAAnE,EAAqEC,aAAY,CAAC,CAAlF,EAAoFC,MAAK,MAAzF,EAAP,EAAyGC,MAAzG,CAAgH,UAASjH,CAAT,EAAW;AAACD,YAAEkL,SAAF,CAAYjL,CAAZ;AAAe,SAA3I;AAA6I;AAAC,KAAxrY,EAAyrYiL,WAAU,mBAASlL,CAAT,EAAW;AAAC,UAAIC,IAAE,IAAN,CAAW,IAAG;AAACoH,mBAASC,OAAOC,SAAP,CAAiBvH,CAAjB,CAAT;AAA6B,OAAjC,CAAiC,OAAMG,CAAN,EAAQ;AAACkH,mBAAS,oBAAiBrH,CAAjB,yCAAiBA,CAAjB,KAAmBA,CAAnB,GAAqBsH,OAAOC,SAAP,CAAiBvH,CAAjB,CAA9B;AAAkD,oBAAWqH,SAASG,MAApB,KAA6BvH,EAAEO,OAAF,CAAUM,WAAV,IAAuBb,EAAEa,WAAF,CAAcuE,IAAd,EAAvB,EAA4CpF,EAAEuL,OAAF,EAA5C,EAAwDvL,EAAEI,GAAF,CAAMsE,MAAN,CAAa,kCAAgC0C,SAASX,GAAzC,GAA6C,IAA1D,CAAxD,EAAwH,OAAKzG,EAAEO,OAAF,CAAUK,WAAf,IAA4BP,EAAE,MAAIL,EAAEO,OAAF,CAAUK,WAAhB,EAA6ByE,GAA7B,CAAiC+B,SAASX,GAA1C,CAApJ,EAAmMzG,EAAEqD,UAAF,GAAarD,EAAEI,GAAF,CAAMiE,IAAN,CAAW,aAAX,CAAhN,EAA0OrE,EAAEsC,IAAF,EAA1O,EAAmPtC,EAAEkG,UAAF,EAAhR,GAAgS,WAASkB,SAASG,MAAlB,KAA2BvH,EAAEO,OAAF,CAAU6B,OAAV,IAAmBpC,EAAEO,OAAF,CAAU6B,OAAV,CAAkB8C,IAAlB,CAAuBlF,CAAvB,EAAyBoH,SAASK,OAAlC,CAAnB,EAA8DzH,EAAEkG,UAAF,EAA9D,EAA6EwB,WAAW,YAAU;AAAC1H,UAAEyF,KAAF;AAAU,OAAhC,EAAiC,GAAjC,CAAxG,CAAhS,EAA+azF,EAAEO,OAAF,CAAU0B,cAAV,IAA0BjC,EAAEO,OAAF,CAAU0B,cAAV,CAAyBiD,IAAzB,CAA8BlF,CAA9B,EAAgCoH,QAAhC,CAAzc;AAAmf,KAAzyZ,EAA0yZ7B,YAAW,sBAAU;AAAC,UAAIxF,IAAE,IAAN,CAAWA,EAAEK,GAAF,CAAMsE,MAAN,CAAa3E,EAAEQ,OAAF,CAAUc,UAAvB,GAAmCtB,EAAEmE,MAAF,GAASnE,EAAEK,GAAF,CAAMiE,IAAN,CAAW,SAAX,CAA5C;AAAkE,KAA74Z,EAA84Z6B,YAAW,sBAAU;AAAC,UAAInG,IAAE,IAAN,CAAWA,EAAEmE,MAAF,CAASiB,MAAT;AAAkB,KAAj8Z,EAAk8ZM,OAAM,iBAAU;AAAC,UAAI1F,IAAE,IAAN,CAAWA,EAAEwL,OAAF,IAAYxL,EAAEuC,IAAF,EAAZ,EAAqBjC,EAAE+D,aAAF,CAAgBrE,EAAEsD,UAAlB,MAAgCtD,EAAEK,GAAF,CAAMsE,MAAN,CAAa3E,EAAEsD,UAAf,GAA2B,OAAKtD,EAAEQ,OAAF,CAAUK,WAAf,IAA4BP,EAAE,MAAIN,EAAEQ,OAAF,CAAUK,WAAhB,EAA6ByE,GAA7B,CAAiCtF,EAAEsD,UAAF,CAAamI,IAAb,CAAkB,KAAlB,CAAjC,CAAvF,CAArB,EAAwK,cAAY,OAAOzL,EAAEQ,OAAF,CAAUkB,OAA7B,IAAsC1B,EAAEQ,OAAF,CAAUkB,OAAV,CAAkByD,IAAlB,CAAuBnF,CAAvB,CAA9M;AAAwO,KAAtsa,EAAusawL,SAAQ,mBAAU;AAAC,UAAIxL,IAAE,IAAN,CAAWA,EAAEQ,OAAF,CAAUY,KAAV,IAAiB,CAACd,EAAE+D,aAAF,CAAgBrE,EAAEoB,KAAlB,CAAlB,IAA4CpB,EAAE4H,YAAF,EAA5C,EAA6D5H,EAAEQ,OAAF,CAAUM,WAAV,IAAuB,CAACR,EAAE+D,aAAF,CAAgBrE,EAAEc,WAAlB,CAAxB,IAAwDd,EAAEsI,eAAF,EAArH,EAAyIhI,EAAE+D,aAAF,CAAgBrE,EAAE0D,kBAAlB,KAAuC1D,EAAE0D,kBAAF,CAAqB0B,MAArB,EAAhL,EAA8M9E,EAAE+D,aAAF,CAAgBrE,EAAE2D,gBAAlB,KAAqC3D,EAAE2D,gBAAF,CAAmByB,MAAnB,EAAnP,EAA+Q9E,EAAE+D,aAAF,CAAgBrE,EAAEmE,MAAlB,KAA2BnE,EAAEmE,MAAF,CAASiB,MAAT,EAA1S,EAA4T9E,EAAE+D,aAAF,CAAgBrE,EAAEuD,IAAlB,KAAyBvD,EAAEuD,IAAF,CAAO6B,MAAP,EAArV,EAAqWpF,EAAEK,GAAF,CAAMqL,IAAN,CAAW,EAAX,CAArW;AAAoX,KAAzlb,EAA0lbC,uBAAsB,iCAAU;AAAC,UAAI3L,IAAEC,EAAE2L,aAAF,CAAgB,OAAhB,CAAN,CAA+B,OAAO5L,EAAEiH,IAAF,GAAO,MAAP,EAAc,cAAajH,CAAb,IAAgB,eAAa,OAAO6L,IAApC,IAA0C,eAAa,OAAOtF,QAA9D,IAAwE,eAAa,OAAO,IAAImE,cAAJ,EAAD,CAAqBoB,MAArI;AAA4I,KAAtyb,EAAuybhH,sBAAqB,gCAAU;AAAC,UAAI9E,IAAE,IAAN,CAAW,IAAGA,EAAE2L,qBAAF,EAAH,EAA6B,OAAM,EAAN,CAAS,IAAGrE,OAAOjD,aAAP,CAAqBrE,EAAEyD,SAAvB,CAAH,EAAqC;AAAC,YAAItD,IAAEF,EAAE2L,aAAF,CAAgB,QAAhB,CAAN,CAAgCzL,EAAE4L,YAAF,CAAe,IAAf,EAAoB/L,EAAEI,EAAF,GAAK,gBAAzB,GAA2CD,EAAE4L,YAAF,CAAe,MAAf,EAAsB/L,EAAEI,EAAF,GAAK,gBAA3B,CAA3C,EAAwFD,EAAE4L,YAAF,CAAe,OAAf,EAAuB,GAAvB,CAAxF,EAAoH5L,EAAE4L,YAAF,CAAe,QAAf,EAAwB,GAAxB,CAApH,EAAiJ5L,EAAE4L,YAAF,CAAe,QAAf,EAAwB,GAAxB,CAAjJ,EAA8K5L,EAAE4L,YAAF,CAAe,KAAf,EAAqB,mBAArB,CAA9K,EAAwN5L,EAAE6L,KAAF,CAAQC,OAAR,GAAgB,MAAxO,EAA+OhM,EAAE4G,IAAF,CAAOqF,WAAP,CAAmB/L,CAAnB,CAA/O;AAAqQ,OAA3U,MAAgVA,IAAEH,EAAEyD,SAAF,CAAY,CAAZ,CAAF,CAAiB,IAAIiB,IAAE,uFAAqF1E,EAAEI,EAAvF,GAA0F,6BAA1F,GAAwHJ,EAAEI,EAA1H,GAA6H,+BAA7H,GAA6JJ,EAAEQ,OAAF,CAAUC,SAAvK,GAAiL,qGAAjL,GAAuRH,EAAE,MAAIN,EAAEI,EAAN,GAAS,iBAAX,EAA8B,CAA9B,EAAiC+L,SAAxT,GAAkU,uBAAxU,CAAgWhM,EAAEiM,aAAF,CAAgBC,QAAhB,CAAyBjB,IAAzB,CAA8B,kBAA9B,GAAkDjL,EAAEiM,aAAF,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B5H,CAA/B,CAAlD,EAAoFvE,EAAEiM,aAAF,CAAgBC,QAAhB,CAAyBE,KAAzB,EAApF,EAAqHvM,EAAEyD,SAAF,GAAYnD,EAAE,MAAIN,EAAEI,EAAN,GAAS,gBAAX,CAAjI,EAA8JJ,EAAEwD,UAAF,GAAaxD,EAAEyD,SAAF,CAAY+I,QAAZ,GAAuBlI,IAAvB,CAA4B,MAA5B,EAAoCA,IAApC,CAAyC,MAAItE,EAAEI,EAAN,GAAS,qBAAlD,CAA3K,EAAoPJ,EAAEwD,UAAF,CAAawB,EAAb,CAAgB,QAAhB,EAAyB,OAAzB,EAAiC,YAAU;AAAChF,UAAEyM,oBAAF,CAAuBzM,CAAvB;AAA0B,OAAtE,CAApP,EAA4TA,EAAEwD,UAAF,CAAac,IAAb,CAAkB,OAAlB,EAA2B,CAA3B,EAA8BoI,WAA9B,CAA0C,UAA1C,EAAqD,YAAU;AAAC1M,UAAEyM,oBAAF,CAAuBzM,CAAvB;AAA0B,OAA1F,CAA5T,CAAwZ,IAAIsC,IAAE,SAAFA,CAAE,GAAU;AAACnC,UAAEwM,WAAF,GAAcxM,EAAEwM,WAAF,CAAc,QAAd,EAAuBrK,CAAvB,CAAd,GAAwCnC,EAAEyM,mBAAF,CAAsB,MAAtB,EAA6BtK,CAA7B,EAA+B,CAAC,CAAhC,CAAxC,CAA2E,IAAIrC,IAAED,EAAE6M,oBAAF,CAAuB1M,CAAvB,CAAN,CAAgCmH,OAAOjD,aAAP,CAAqBrE,EAAEoB,KAAvB,KAA+BpB,EAAEmH,WAAF,CAAclH,CAAd,CAA/B;AAAgD,OAA5K,CAA6K,OAAOE,EAAE4K,gBAAF,IAAoB5K,EAAE4K,gBAAF,CAAmB,MAAnB,EAA0BzI,CAA1B,EAA4B,CAAC,CAA7B,CAApB,EAAoDnC,EAAEuM,WAAF,IAAevM,EAAEuM,WAAF,CAAc,QAAd,EAAuBpK,CAAvB,CAAnE,EAA6F,MAAItC,EAAEI,EAAN,GAAS,iBAA7G;AAA+H,KAA7ve,EAA8veqM,sBAAqB,8BAASzM,CAAT,EAAW;AAACA,QAAEwF,UAAF,IAAexF,EAAEQ,OAAF,CAAUgB,aAAV,IAAyB,CAACxB,EAAEQ,OAAF,CAAUC,SAApC,GAA8CT,EAAEQ,OAAF,CAAU6B,OAAV,KAAoBrC,EAAEQ,OAAF,CAAU6B,OAAV,CAAkB8C,IAAlB,CAAuBnF,CAAvB,EAAyB,iDAAzB,GAA4EA,EAAEmG,UAAF,EAAhG,CAA9C,IAA+JnG,EAAEQ,OAAF,CAAUoB,iBAAV,IAA6B5B,EAAEQ,OAAF,CAAUoB,iBAAV,CAA4BuD,IAA5B,CAAiCnF,CAAjC,CAA7B,EAAiEA,EAAEwD,UAAF,CAAa,CAAb,EAAgBsJ,MAAhB,EAAhO,CAAf;AAAyQ,KAAxif,EAAyifD,sBAAqB,8BAAS7M,CAAT,EAAW;AAAC,UAAG;AAAC,YAAIC,CAAJ;AAAA,YAAME,IAAEH,EAAE+M,eAAF,GAAkB/M,EAAE+M,eAApB,GAAoC/M,EAAEoM,aAAF,CAAgBC,QAA5D;AAAA,YAAqE3H,IAAEvE,EAAE0G,IAAF,CAAOmG,SAA9E,CAAwF,WAAStI,EAAEuI,KAAF,CAAQ,CAAR,EAAU,CAAV,EAAaC,WAAb,EAAT,IAAqC,YAAUxI,EAAEuI,KAAF,CAAQ,CAAC,CAAT,EAAYC,WAAZ,EAA/C,KAA2ExI,IAAEvE,EAAE0G,IAAF,CAAOsG,UAAP,CAAkBA,UAAlB,CAA6BC,SAA1G,GAAqHnN,IAAEqH,OAAOC,SAAP,CAAiB7C,CAAjB,CAAvH;AAA2I,OAAvO,CAAuO,OAAMpC,CAAN,EAAQ;AAACrC,YAAE,EAACoN,SAAQ,CAAC,CAAV,EAAF;AAAe,cAAOpN,CAAP;AAAS,KAAl1f,EAAtoB;AAA09gB,CAAx+gB,CAAy+gBqN,MAAz+gB,EAAg/gBjB,QAAh/gB,CAAD","file":"croppic.min.js","sourcesContent":["/*\r\n * CROPPIC\r\n * dependancy: jQuery\r\n * author: Ognjen \"Zmaj Džedaj\" Božičković and Mat Steinlin\r\n */\r\n !function(o,t){Croppic=function(o,t){var e=this;e.id=o,e.obj=$(\"#\"+o),e.outputDiv=e.obj,e.options={uploadUrl:\"\",uploadData:{},cropUrl:\"\",cropData:{},outputUrlId:\"\",imgEyecandy:!0,imgEyecandyOpacity:.2,zoomFactor:10,rotateFactor:5,doubleZoomControls:!0,rotateControls:!0,modal:!1,customUploadButtonId:\"\",loaderHtml:\"\",scaleToFill:!0,processInline:!1,loadPicture:\"\",onReset:null,enableMousescroll:!1,onBeforeImgUpload:null,onAfterImgUpload:null,onImgDrag:null,onImgZoom:null,onImgRotate:null,onBeforeImgCrop:null,onAfterImgCrop:null,onBeforeRemoveCroppedImg:null,onAfterRemoveCroppedImg:null,onError:null};for(i in t)e.options[i]=t[i];e.init()},Croppic.prototype={id:\"\",imgInitW:0,imgInitH:0,imgW:0,imgH:0,objW:0,objH:0,actualRotation:0,windowW:0,windowH:$(o).height(),obj:{},outputDiv:{},outputUrlObj:{},img:{},defaultImg:{},croppedImg:{},imgEyecandy:{},form:{},iframeform:{},iframeobj:{},cropControlsUpload:{},cropControlsCrop:{},cropControlZoomMuchIn:{},cropControlZoomMuchOut:{},cropControlZoomIn:{},cropControlZoomOut:{},cropControlCrop:{},cropControlReset:{},cropControlRemoveCroppedImage:{},modal:{},loader:{},init:function(){var o=this;o.objW=o.obj.width(),o.objH=o.obj.height(),o.actualRotation=0,$.isEmptyObject(o.defaultImg)&&(o.defaultImg=o.obj.find(\"img\")),o.createImgUploadControls(),$.isEmptyObject(o.options.loadPicture)?o.bindImgUploadControl():o.loadExistingImage()},createImgUploadControls:function(){var o=this,t=\"\";\"\"===o.options.customUploadButtonId&&(t='<i class=\"cropControlUpload\"></i>');var e='<i class=\"cropControlRemoveCroppedImage\"></i>';$.isEmptyObject(o.croppedImg)&&(e=\"\"),$.isEmptyObject(o.options.loadPicture)||(t=\"\");var n='<div class=\"cropControls cropControlsUpload\"> '+t+e+\" </div>\";o.outputDiv.append(n),o.cropControlsUpload=o.outputDiv.find(\".cropControlsUpload\"),\"\"===o.options.customUploadButtonId?o.imgUploadControl=o.outputDiv.find(\".cropControlUpload\"):(o.imgUploadControl=$(\"#\"+o.options.customUploadButtonId),o.imgUploadControl.show()),$.isEmptyObject(o.croppedImg)||(o.cropControlRemoveCroppedImage=o.outputDiv.find(\".cropControlRemoveCroppedImage\"))},bindImgUploadControl:function(){var o=this,e='<form class=\"'+o.id+'_imgUploadForm\" style=\"visibility: hidden;\">  <input type=\"file\" name=\"img\" id=\"'+o.id+'_imgUploadField\">  </form>';o.outputDiv.append(e),o.form=o.outputDiv.find(\".\"+o.id+\"_imgUploadForm\");var n=o.CreateFallbackIframe();o.imgUploadControl.off(\"click\"),o.imgUploadControl.on(\"click\",function(){\"\"===n?o.form.find('input[type=\"file\"]').trigger(\"click\"):o.iframeform.find('input[type=\"file\"]').trigger(\"click\")}),$.isEmptyObject(o.croppedImg)||o.cropControlRemoveCroppedImage.on(\"click\",function(){typeof o.options.onBeforeRemoveCroppedImg==typeof Function&&o.options.onBeforeRemoveCroppedImg.call(o),o.croppedImg.remove(),o.croppedImg={},$(this).hide(),typeof o.options.onAfterRemoveCroppedImg==typeof Function&&o.options.onAfterRemoveCroppedImg.call(o),$.isEmptyObject(o.defaultImg)||o.obj.append(o.defaultImg),\"\"!==o.options.outputUrlId&&$(\"#\"+o.options.outputUrlId).val(\"\")}),o.form.find('input[type=\"file\"]').change(function(){if(o.options.onBeforeImgUpload&&o.options.onBeforeImgUpload.call(o),o.showLoader(),o.imgUploadControl.hide(),o.options.processInline)if(\"undefined\"==typeof FileReader)o.options.onError&&o.options.onError.call(o,\"processInline is not supported by your Browser\"),o.reset();else{var e=new FileReader;e.onload=function(t){var e=new Image;e.src=t.target.result,e.onload=function(){o.imgInitW=o.imgW=e.width,o.imgInitH=o.imgH=e.height,o.options.modal&&o.createModal(),$.isEmptyObject(o.croppedImg)||o.croppedImg.remove(),o.imgUrl=e.src,o.obj.append('<img src=\"'+e.src+'\">'),o.initCropper(),o.hideLoader(),o.options.onAfterImgUpload&&o.options.onAfterImgUpload.call(o)}},e.readAsDataURL(o.form.find('input[type=\"file\"]')[0].files[0])}else{try{formData=new FormData(o.form[0])}catch(n){formData=new FormData,formData.append(\"img\",o.form.find(\"input[type=file]\")[0].files[0])}for(var i in o.options.uploadData)o.options.uploadData.hasOwnProperty(i)&&formData.append(i,o.options.uploadData[i]);$.ajax({url:o.options.uploadUrl,data:formData,context:t.body,cache:!1,contentType:!1,processData:!1,type:\"POST\"}).always(function(t){o.afterUpload(t)})}})},loadExistingImage:function(){var o=this;if($.isEmptyObject(o.croppedImg)){o.options.onBeforeImgUpload&&o.options.onBeforeImgUpload.call(o),o.showLoader(),o.options.modal&&o.createModal(),$.isEmptyObject(o.croppedImg)||o.croppedImg.remove(),o.imgUrl=o.options.loadPicture;var t=$('<img src=\"'+o.options.loadPicture+'\">');o.obj.append(t),t.load(function(){o.imgInitW=o.imgW=this.width,o.imgInitH=o.imgH=this.height,o.initCropper(),o.hideLoader(),o.options.onAfterImgUpload&&o.options.onAfterImgUpload.call(o)})}else o.cropControlRemoveCroppedImage.on(\"click\",function(){o.croppedImg.remove(),$(this).hide(),$.isEmptyObject(o.defaultImg)||o.obj.append(o.defaultImg),\"\"!==o.options.outputUrlId&&$(\"#\"+o.options.outputUrlId).val(\"\"),o.croppedImg=\"\",o.reset()})},afterUpload:function(o){var t=this;if(response=\"object\"==typeof o?o:jQuery.parseJSON(o),\"success\"==response.status){t.imgInitW=t.imgW=response.width,t.imgInitH=t.imgH=response.height,t.options.modal&&t.createModal(),$.isEmptyObject(t.croppedImg)||t.croppedImg.remove(),t.imgUrl=response.url;var e=$('<img src=\"'+response.url+'\">');t.obj.append(e),e.load(function(){t.initCropper(),t.hideLoader(),t.options.onAfterImgUpload&&t.options.onAfterImgUpload.call(t)}),t.options.onAfterImgUpload&&t.options.onAfterImgUpload.call(t)}\"error\"==response.status&&(alert(response.message),t.options.onError&&t.options.onError.call(t,response.message),t.hideLoader(),setTimeout(function(){t.reset()},2e3))},createModal:function(){var o=this,t=o.windowH/2-o.objH/2,e='<div id=\"croppicModal\"><div id=\"croppicModalObj\" style=\"width:'+o.objW+\"px; height:\"+o.objH+\"px; margin:0 auto; margin-top:\"+t+'px; position: relative;\"> </div></div>';$(\"body\").append(e),o.modal=$(\"#croppicModal\"),o.obj=$(\"#croppicModalObj\")},destroyModal:function(){var o=this;o.obj=o.outputDiv,o.modal.remove(),o.modal={}},initCropper:function(){var o=this;o.img=o.obj.find(\"img\"),o.img.wrap('<div class=\"cropImgWrapper\" style=\"overflow:hidden; z-index:1; position:absolute; width:'+o.objW+\"px; height:\"+o.objH+'px;\"></div>'),o.createCropControls(),o.options.imgEyecandy&&o.createEyecandy(),o.initDrag(),o.initialScaleImg()},createEyecandy:function(){var o=this;o.imgEyecandy=o.img.clone(),o.imgEyecandy.css({\"z-index\":\"0\",opacity:o.options.imgEyecandyOpacity}).appendTo(o.obj)},destroyEyecandy:function(){var o=this;o.imgEyecandy.remove()},initialScaleImg:function(){var o=this;o.zoom(-o.imgInitW),o.zoom(40),o.options.enableMousescroll&&o.img.on(\"mousewheel\",function(t){t.preventDefault(),o.zoom(o.options.zoomFactor*t.deltaY)}),o.img.css({left:-(o.imgW-o.objW)/2,top:-(o.imgH-o.objH)/2,position:\"relative\"}),o.options.imgEyecandy&&o.imgEyecandy.css({left:-(o.imgW-o.objW)/2,top:-(o.imgH-o.objH)/2,position:\"relative\"})},createCropControls:function(){var o,t=this,e=\"\",n='<i class=\"cropControlZoomIn\"></i>',i='<i class=\"cropControlZoomOut\"></i>',r=\"\",a=\"\",p=\"\",s='<i class=\"cropControlCrop\"></i>',c='<i class=\"cropControlReset\"></i>';t.options.doubleZoomControls&&(e='<i class=\"cropControlZoomMuchIn\"></i>',r='<i class=\"cropControlZoomMuchOut\"></i>'),t.options.rotateControls&&(a='<i class=\"cropControlRotateLeft\"></i>',p='<i class=\"cropControlRotateRight\"></i>'),o='<div class=\"cropControls cropControlsCrop\">'+e+n+i+r+a+p+s+c+\"</div>\",t.obj.append(o),t.cropControlsCrop=t.obj.find(\".cropControlsCrop\"),t.options.doubleZoomControls&&(t.cropControlZoomMuchIn=t.cropControlsCrop.find(\".cropControlZoomMuchIn\"),t.cropControlZoomMuchIn.on(\"click\",function(){t.zoom(10*t.options.zoomFactor)}),t.cropControlZoomMuchOut=t.cropControlsCrop.find(\".cropControlZoomMuchOut\"),t.cropControlZoomMuchOut.on(\"click\",function(){t.zoom(10*-t.options.zoomFactor)})),t.cropControlZoomIn=t.cropControlsCrop.find(\".cropControlZoomIn\"),t.cropControlZoomIn.on(\"click\",function(){t.zoom(t.options.zoomFactor)}),t.cropControlZoomOut=t.cropControlsCrop.find(\".cropControlZoomOut\"),t.cropControlZoomOut.on(\"click\",function(){t.zoom(-t.options.zoomFactor)}),t.cropControlZoomIn=t.cropControlsCrop.find(\".cropControlRotateLeft\"),t.cropControlZoomIn.on(\"click\",function(){t.rotate(-t.options.rotateFactor)}),t.cropControlZoomOut=t.cropControlsCrop.find(\".cropControlRotateRight\"),t.cropControlZoomOut.on(\"click\",function(){t.rotate(t.options.rotateFactor)}),t.cropControlCrop=t.cropControlsCrop.find(\".cropControlCrop\"),t.cropControlCrop.on(\"click\",function(){t.crop()}),t.cropControlReset=t.cropControlsCrop.find(\".cropControlReset\"),t.cropControlReset.on(\"click\",function(){t.reset()})},initDrag:function(){var t=this;t.img.on(\"mousedown touchstart\",function(e){e.preventDefault();var n,i,r=o.navigator.userAgent;r.match(/iPad/i)||r.match(/iPhone/i)||r.match(/android/i)||void 0==(e.pageY&&e.pageX)?(n=e.originalEvent.touches[0].pageX,i=e.originalEvent.touches[0].pageY):(n=e.pageX,i=e.pageY);var a=t.img.css(\"z-index\"),p=t.img.outerHeight(),s=t.img.outerWidth(),c=t.img.offset().top+p-i,l=t.img.offset().left+s-n;t.img.css(\"z-index\",1e3).on(\"mousemove touchmove\",function(o){var e,n;if(r.match(/iPad/i)||r.match(/iPhone/i)||r.match(/android/i)||void 0==(o.pageY&&o.pageX)?(e=o.originalEvent.touches[0].pageY+c-p,n=o.originalEvent.touches[0].pageX+l-s):(e=o.pageY+c-p,n=o.pageX+l-s),t.img.offset({top:e,left:n}).on(\"mouseup\",function(){$(this).removeClass(\"draggable\").css(\"z-index\",a)}),t.options.imgEyecandy&&t.imgEyecandy.offset({top:e,left:n}),t.objH<t.imgH){parseInt(t.img.css(\"top\"))>0&&(t.img.css(\"top\",0),t.options.imgEyecandy&&t.imgEyecandy.css(\"top\",0));var i=-(t.imgH-t.objH);parseInt(t.img.css(\"top\"))<i&&(t.img.css(\"top\",i),t.options.imgEyecandy&&t.imgEyecandy.css(\"top\",i))}else{parseInt(t.img.css(\"top\"))<0&&(t.img.css(\"top\",0),t.options.imgEyecandy&&t.imgEyecandy.css(\"top\",0));var i=t.objH-t.imgH;parseInt(t.img.css(\"top\"))>i&&(t.img.css(\"top\",i),t.options.imgEyecandy&&t.imgEyecandy.css(\"top\",i))}if(t.objW<t.imgW){parseInt(t.img.css(\"left\"))>0&&(t.img.css(\"left\",0),t.options.imgEyecandy&&t.imgEyecandy.css(\"left\",0));var m=-(t.imgW-t.objW);parseInt(t.img.css(\"left\"))<m&&(t.img.css(\"left\",m),t.options.imgEyecandy&&t.imgEyecandy.css(\"left\",m))}else{parseInt(t.img.css(\"left\"))<0&&(t.img.css(\"left\",0),t.options.imgEyecandy&&t.imgEyecandy.css(\"left\",0));var m=t.objW-t.imgW;parseInt(t.img.css(\"left\"))>m&&(t.img.css(\"left\",m),t.options.imgEyecandy&&t.imgEyecandy.css(\"left\",m))}t.options.onImgDrag&&t.options.onImgDrag.call(t)})}).on(\"mouseup\",function(){t.img.off(\"mousemove\")}).on(\"mouseout\",function(){t.img.off(\"mousemove\")})},rotate:function(o){var t=this;t.actualRotation+=o,t.img.css({\"-webkit-transform\":\"rotate(\"+t.actualRotation+\"deg)\",\"-moz-transform\":\"rotate(\"+t.actualRotation+\"deg)\",transform:\"rotate(\"+t.actualRotation+\"deg)\"}),t.options.imgEyecandy&&t.imgEyecandy.css({\"-webkit-transform\":\"rotate(\"+t.actualRotation+\"deg)\",\"-moz-transform\":\"rotate(\"+t.actualRotation+\"deg)\",transform:\"rotate(\"+t.actualRotation+\"deg)\"}),\"function\"==typeof t.options.onImgRotate&&t.options.onImgRotate.call(t)},zoom:function(o){var t=this,e=t.imgW/t.imgH,n=t.imgW+o,i=n/e,r=!0;(n<t.objW||i<t.objH)&&(n-t.objW<i-t.objH?(n=t.objW,i=n/e):(i=t.objH,n=e*i),r=!1),!t.options.scaleToFill&&(n>t.imgInitW||i>t.imgInitH)&&(n-t.imgInitW<i-t.imgInitH?(n=t.imgInitW,i=n/e):(i=t.imgInitH,n=e*i),r=!1),t.imgW=n,t.img.width(n),t.imgH=i,t.img.height(i);var a=parseInt(t.img.css(\"top\"))-o/2,p=parseInt(t.img.css(\"left\"))-o/2;a>0&&(a=0),p>0&&(p=0);var s=-(i-t.objH);s>a&&(a=s);var c=-(n-t.objW);c>p&&(p=c),r&&t.img.css({top:a,left:p}),t.options.imgEyecandy&&(t.imgEyecandy.width(n),t.imgEyecandy.height(i),r&&t.imgEyecandy.css({top:a,left:p})),t.options.onImgZoom&&t.options.onImgZoom.call(t)},crop:function(){var o=this;o.options.onBeforeImgCrop&&o.options.onBeforeImgCrop.call(o),o.cropControlsCrop.hide(),o.showLoader();var e,n={imgUrl:o.imgUrl,imgInitW:o.imgInitW,imgInitH:o.imgInitH,imgW:o.imgW,imgH:o.imgH,imgY1:Math.abs(parseInt(o.img.css(\"top\"))),imgX1:Math.abs(parseInt(o.img.css(\"left\"))),cropH:o.objH,cropW:o.objW,rotation:o.actualRotation};if(\"undefined\"==typeof FormData){var i=new XMLHttpRequest,r=\"\",a=[];for(var p in n)a.push(encodeURIComponent(p)+\"=\"+encodeURIComponent(n[p]));for(var p in o.options.cropData)a.push(encodeURIComponent(p)+\"=\"+encodeURIComponent(o.options.cropData[p]));r=a.join(\"&\").replace(/%20/g,\"+\"),i.addEventListener(\"error\",function(){o.options.onError&&o.options.onError.call(o,\"XHR Request failed\")}),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&o.afterCrop(i.responseText)},i.open(\"POST\",o.options.cropUrl),i.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\"),i.setRequestHeader(\"Content-Length\",r.length),i.send(r)}else{e=new FormData;for(var p in n)n.hasOwnProperty(p)&&e.append(p,n[p]);for(var p in o.options.cropData)o.options.cropData.hasOwnProperty(p)&&e.append(p,o.options.cropData[p]);$.ajax({url:o.options.cropUrl,data:e,context:t.body,cache:!1,contentType:!1,processData:!1,type:\"POST\"}).always(function(t){o.afterCrop(t)})}},afterCrop:function(o){var t=this;try{response=jQuery.parseJSON(o)}catch(e){response=\"object\"==typeof o?o:jQuery.parseJSON(o)}\"success\"==response.status&&(t.options.imgEyecandy&&t.imgEyecandy.hide(),t.destroy(),t.obj.append('<img class=\"croppedImg\" src=\"'+response.url+'\">'),\"\"!==t.options.outputUrlId&&$(\"#\"+t.options.outputUrlId).val(response.url),t.croppedImg=t.obj.find(\".croppedImg\"),t.init(),t.hideLoader()),\"error\"==response.status&&(t.options.onError&&t.options.onError.call(t,response.message),t.hideLoader(),setTimeout(function(){t.reset()},2e3)),t.options.onAfterImgCrop&&t.options.onAfterImgCrop.call(t,response)},showLoader:function(){var o=this;o.obj.append(o.options.loaderHtml),o.loader=o.obj.find(\".loader\")},hideLoader:function(){var o=this;o.loader.remove()},reset:function(){var o=this;o.destroy(),o.init(),$.isEmptyObject(o.croppedImg)||(o.obj.append(o.croppedImg),\"\"!==o.options.outputUrlId&&$(\"#\"+o.options.outputUrlId).val(o.croppedImg.attr(\"url\"))),\"function\"==typeof o.options.onReset&&o.options.onReset.call(o)},destroy:function(){var o=this;o.options.modal&&!$.isEmptyObject(o.modal)&&o.destroyModal(),o.options.imgEyecandy&&!$.isEmptyObject(o.imgEyecandy)&&o.destroyEyecandy(),$.isEmptyObject(o.cropControlsUpload)||o.cropControlsUpload.remove(),$.isEmptyObject(o.cropControlsCrop)||o.cropControlsCrop.remove(),$.isEmptyObject(o.loader)||o.loader.remove(),$.isEmptyObject(o.form)||o.form.remove(),o.obj.html(\"\")},isAjaxUploadSupported:function(){var o=t.createElement(\"input\");return o.type=\"file\",\"multiple\"in o&&\"undefined\"!=typeof File&&\"undefined\"!=typeof FormData&&\"undefined\"!=typeof(new XMLHttpRequest).upload},CreateFallbackIframe:function(){var o=this;if(o.isAjaxUploadSupported())return\"\";if(jQuery.isEmptyObject(o.iframeobj)){var e=t.createElement(\"iframe\");e.setAttribute(\"id\",o.id+\"_upload_iframe\"),e.setAttribute(\"name\",o.id+\"_upload_iframe\"),e.setAttribute(\"width\",\"0\"),e.setAttribute(\"height\",\"0\"),e.setAttribute(\"border\",\"0\"),e.setAttribute(\"src\",\"javascript:false;\"),e.style.display=\"none\",t.body.appendChild(e)}else e=o.iframeobj[0];var n='<!DOCTYPE html><html><head><title>Uploading File</title></head><body><form class=\"'+o.id+'_upload_iframe_form\" name=\"'+o.id+'_upload_iframe_form\" action=\"'+o.options.uploadUrl+'\" method=\"post\" enctype=\"multipart/form-data\" encoding=\"multipart/form-data\" style=\"display:none;\">'+$(\"#\"+o.id+\"_imgUploadField\")[0].outerHTML+\"</form></body></html>\";e.contentWindow.document.open(\"text/htmlreplace\"),e.contentWindow.document.write(n),e.contentWindow.document.close(),o.iframeobj=$(\"#\"+o.id+\"_upload_iframe\"),o.iframeform=o.iframeobj.contents().find(\"html\").find(\".\"+o.id+\"_upload_iframe_form\"),o.iframeform.on(\"change\",\"input\",function(){o.SubmitFallbackIframe(o)}),o.iframeform.find(\"input\")[0].attachEvent(\"onchange\",function(){o.SubmitFallbackIframe(o)});var i=function(){e.detachEvent?e.detachEvent(\"onload\",i):e.removeEventListener(\"load\",i,!1);var t=o.getIframeContentJSON(e);jQuery.isEmptyObject(o.modal)&&o.afterUpload(t)};return e.addEventListener&&e.addEventListener(\"load\",i,!0),e.attachEvent&&e.attachEvent(\"onload\",i),\"#\"+o.id+\"_imgUploadField\"},SubmitFallbackIframe:function(o){o.showLoader(),o.options.processInline&&!o.options.uploadUrl?o.options.onError&&(o.options.onError.call(o,\"processInline is not supported by your browser \"),o.hideLoader()):(o.options.onBeforeImgUpload&&o.options.onBeforeImgUpload.call(o),o.iframeform[0].submit())},getIframeContentJSON:function(o){try{var t,e=o.contentDocument?o.contentDocument:o.contentWindow.document,n=e.body.innerHTML;\"<pre>\"==n.slice(0,5).toLowerCase()&&\"</pre>\"==n.slice(-6).toLowerCase()&&(n=e.body.firstChild.firstChild.nodeValue),t=jQuery.parseJSON(n)}catch(i){t={success:!1}}return t}}}(window,document);"]}